<div class="d-none d-lg-block">
    <img class="logo img-fluid" src="images/pool.png" alt="IRD Iridium cryptonote coin logo">
</div>


<div class="row">
    <div class="col-sm-6">
        <div class="cardpad card">
            <div class="card-header">
                Network status
            </div>
            <div class="card-body">
                <p><i class="fas fa-tachometer-alt"></i> Hashrate: <span id="networkHashrate"></span></p>
                <p><i class="fa fa-bars"></i> Height: <span id="blockchainHeight"></span></p>
                <!--<p><i class="fas fa-tachometer-alt"></i> Global Hash Rate: <span id="networkHashrate"></span></p>-->
                <p><i class="far fa-clock"></i> Last block Found: <span id="networkLastBlockFound"></span></p>
                <!--<p><i class="fa fa-unlock-alt"></i> Difficulty: <span id="networkDifficulty"></span></p>-->
                <!--<p><i class="fa fa-bars"></i> Blockchain Height: <span id="blockchainHeight"></span></p>-->
                <p><i class="fas fa-piggy-bank"></i> Last Reward: <span id="networkLastReward"></span></p>
                <!--<p><i class="fas fa-th"></i> Last Hash: <a id="lastHash" target="_blank"></a></p>-->
            </div>
        </div>
    </div>
    <div class="col-sm-6">
        <div class="cardpad card">
            <div class="card-header">
                Iridium last informations
            </div>
            <div class="card-body">
                <p><i class="far fa-money-bill-alt"></i> Current Supply: <span id="alreadyGeneratedCoins"></span></p>
                <p><i class="fas fa-university"></i> Emission: <span id="supplypercent"></span></p>
                <p><i class="fas fa-exchange-alt"></i> Total transactions: <span id="alreadyGeneratedTransactions"></span></p>
                <p><i class="fas fa-code-branch"></i> Blockchain version: <span id="major_version"></span></p>
            </div>
        </div>
    </div>
</div>
<!--<div class="row">-->
<!--<div class="col-md-4 stats">-->
<!--<h3>Network</h3>-->
<!--<div><i class="fas fa-tachometer-alt"></i> Global Hash Rate: <span id="networkHashrate"></span></div>-->
<!--<div><i class="far fa-clock"></i> Block Found: <span id="networkLastBlockFound"></span></div>-->
<!--<div><i class="fa fa-unlock-alt"></i> Difficulty: <span id="networkDifficulty"></span></div>-->
<!--<div><i class="fa fa-bars"></i> Blockchain Height: <span id="blockchainHeight"></span></div>-->
<!--<div><i class="fas fa-piggy-bank"></i> Last Reward: <span id="networkLastReward"></span></div>-->
<!--<div><i class="fas fa-th"></i> Last Hash: <a id="lastHash" target="_blank"></a></div>-->
<!--</div>-->
<!--</div>-->

<script>
    currentPage = {
        destroy: function () {
            $('#networkLastBlockFound').timeago('dispose');
        },
        init: function () {
            console.log("init home");
            $('#loading').show();
            var xhrGetLastBlockDetails;
            if (xhrGetLastBlockDetails) xhrGetLastBlockDetails.abort();
            xhrGetLastBlockDetails = $.ajax({
                url: api,
                method: "POST",
                data: JSON.stringify({
                    jsonrpc: "2.0",
                    id: "2",
                    method: "f_block_json",
                    params: {
                        hash: lastBlock.block_header.hash
                    }
                }),
                dataType: 'json',
                cache: 'false',
                success: function (data) {
                    lastBlockDetail = data.result ;
                    console.log(lastBlockDetail);
                    currentPage.update();
                    $('#loading').hide();
                }
            });



        },
        update: function () {
            // check if lastblock status ok
            updateText('networkHashrate', getReadableHashRateString(lastBlock.block_header.difficulty / coinDifficultyTarget));
            $('#networkLastBlockFound').timeago('update', new Date(lastBlock.block_header.timestamp * 1000).toISOString());
            // updateText('networkDifficulty', lastBlock.block_header.difficulty.toString());
            updateText('blockchainHeight', lastBlock.block_header.height.toString());
            updateText('networkLastReward', shortenLargeNumber(lastBlock.block_header.reward, 2, 0));
            // updateText('lastHash', lastBlock.block_header.hash.substr(0, 13) + '...').setAttribute('href', getBlockchainUrl(lastBlock.block_header.hash));
            updateText('alreadyGeneratedCoins', shortenLargeNumber(lastBlockDetail.block.alreadyGeneratedCoins/coinUnits, 6, 0));
            updateText('supplypercent', (lastBlockDetail.block.alreadyGeneratedCoins/25000000000000).toFixed(2)+' %');
            updateText('alreadyGeneratedTransactions', shortenLargeNumber(lastBlockDetail.block.alreadyGeneratedTransactions,3,1));
            updateText('major_version', lastBlock.block_header.major_version.toString());
        }
    };
</script>